<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Montfort School Dashboard</title>
  {% load static %}
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Corrected static file reference for Django -->
  <link rel="stylesheet" href="{% static 'styles/base.css' %}">
  
</head>
<body class="layout-wrapper light-theme">
  <div class="navbar">
    <div class="left">
      <button id="menu-toggle" aria-label="Toggle menu"><i class="fa fa-bars"></i></button>
      <button id="profile" aria-label="User profile"><i class="fa fa-user"></i></button>
    </div>
    <div class="middle">
      <!-- Using Django's URL tag for routing -->
      <a href="{% url 'home' %}"><h1>Montfort School</h1></a>
    </div>
    <div class="right">
      <button id="fullscreen-btn" aria-label="Toggle fullscreen" class="navbar-btn"><i class="fa fa-expand"></i></button>
      <button id="settings-btn" aria-label="Toggle settings" class="navbar-btn"><i class="fa fa-cog"></i></button>
    </div>
  </div>
  <div class="layout">
    <div class="sidebar" id="sidebar">
      <ul>
        <li>
          <!-- Using Django's URL tag for routing -->
          <a href="{% url 'home' %}"><button  class="main-item" data-menu="dashboard">
            <i class="fa fa-home"></i>
            <span>Dashboard</span></button>
          </a>
        </li>
        <li>
          <button class="main-item" data-menu="student">
            <i class="fa fa-users"></i>
            <span>Student Management</span>
          </button>
          <ul class="sub-menu">
            <!-- Using Django's URL tag for routing -->
            <li><a href="{% url 'student_management' %}#admission" id="addstudent">Add Student</a></li>
            <li><a href="{% url 'student_management' %}#list" id="viewstudent">View Students</a></li>
            <li><a href="{% url 'student_management' %}#summary" id="summary">Students Summary</a></li>
            <li><a href="{% url 'student_management' %}#migate" id="migrate">Migrate</a></li>
            <li><a href="{% url 'student_management' %}#quickedit" id="quickedit">Quick Edit</a></li>
            <li><a href="{% url 'student_management' %}#acaemicedit" id="academicedit">Academic Edit</a></li>
            <li><a href="{% url 'student_management' %}#searchstudent" id="searchstudent">Search Student</a></li>
            <li><a href="{% url 'student_management' %}#studentaccounts" id="studentaccounts">Stuent Accounts</a></li>
            <li><a href="{% url 'student_management' %}#oldstudentdebt" id="oldstudentdebt">Old Students Debts</a></li>
            <li><a href="{% url 'student_management' %}#oldstudentrec" id="oldstudentrec">Old Student Receipts</a></li>
          </ul>
        </li>
        <!-- Rest of the sidebar links removed for brevity but would be updated similarly -->
        <li>
          <button class="main-item" data-menu="fees">
            <i class="fa fa-money-check"></i>
            <span>Fee Management</span>
          </button>
          <ul class="sub-menu">
            <li><a href="#" id="feescate">Fees Categories</a></li>
            <li><a href="#" id="payfees">Pay Fees</a></li>
            <li><a href="#" id="feesbreakdown">Fees Break Downs</a></li>
            <li><a href="#" id="viewpayments">View Fees Payments</a></li>
            <li><a href="#" id="onlinepayments">View Online Payments</a></li>
            <li><a href="#" id="pendingonlinepayments">Pending Online Payments</a></li>
            <li><a href="#" id="searchreceipt">Search Receipt</a></li>
            <li><a href="#" id="feestructure">Fee Structure</a></li>
            <li><a href="#" id="prev-bal">Previous Balances</a></li>
            <li><a href="#" id="fees-add">Fees Additions</a></li>
            <li><a href="#" id="fees-ded">Fees Deductions</a></li>
            <li><a href="#" id="bursary-cat">Bursary Categories</a></li>
            <li><a href="#" id="fees-burs">Fees Bursaries</a></li>
            <li><a href="#" id="feesreceipt">Fees Receipts</a></li>
            <li><a href="#" id="demandnotes">Fees Demand Notes</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="expenses">
            <i class="fa fa-coins"></i>
            <span>Manage Expenses</span>
          </button>
          <ul class="sub-menu">
            <li><a href="#" id="newrequi">New Requisition</a></li>
            <li><a href="#" id="viewrequi">View Requisitions</a></li>
            <li><a href="#" id="expensecate">Expense Categories</a></li>
            <li><a href="#" id="recordexpense">Record Expense</a></li>
            <li><a href="#" id="viewexpense">View Expenses</a></li>
            <li><a href="#" id="viewcreditors">View Creditors</a></li>
            <li><a href="#" id="viewsuppliers">View Suppliers</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="revenue">
            <i class="fa fa-donate"></i>
            <span>Manage Revenues</span>
          </button>
          <ul class="sub-menu">
            <li><a href="#" id="revenuecale">Revenue Categories</a></li>
            <li><a href="#" id="revenuesour">Revenue Sources</a></li>
            <li><a href="#" id="viewrevenue">View Revenues</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="OLevel">
            <i class="fa fa-book"></i>
            <span>O Level</span>
          </button>
          <ul class="sub-menu">
            <li><a href="#" id="addexammarks">Add Exam Marks</a></li>
            <li><a href="#" id="addstaffmarks">Add Staff Marks</a></li>
            <li><a href="#" id="AOIreportcard">AOI Report Cards</a></li>
            <li><a href="#" id="EOTreportcard">EOT Report Cards</a></li>
            <li><a href="#" id="reportcard">Report Cards (100%)</a></li>
            <li><a href="#" id="CBCreportcard">CBC Report Cards</a></li>
            <li><a href="#" id="viewmarks">View Marks (/100)</a></li>
            <li><a href="#" id="VDreportcard">VD Report Cards</a></li>
            <li><a href="#" id="subjectmarksheets">Subject Mark Sheets</a></li>
            <li><a href="#" id="classmissingmarks">Class Missing Marks</a></li>
            <li><a href="#" id="setmissingmarks">Set Missing Marks</a></li>
            <li><a href="#" id="subjectanalysisgrade">Subject Analysis By Grade</a></li>
            <li><a href="#" id="subjectanalysisIDF">Subject Analysis By IDF</a></li>
            <li><a href="#" id="competences">Manage Competences</a></li>
            <li><a href="#" id="consideredsets">Considered Sets</a></li>
            <li><a href="#" id="optionalsubjects">Optional Subjects</a></li>
            <li><a href="#" id="addexammarksnew">Add Exam Marks New</a></li>
            <li><a href="#" id="sttudentcomments">Student Comments</a></li>
            <li><a href="#" id="projectevaluation">Projects Evaluation</a></li>
            <li><a href="#" id="NCDCreportcard">NCDC Report Card</a></li>
            <li><a href="#" id="reportcomments">Report Comments</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="staff">
            <i class="fa fa-user-tie"></i>
            <span>Staff Management</span>
          </button>
          <ul class="sub-menu">
            <li><a href="#" id="staffposition">Staff Position</a></li>
            <li><a href="#" id="viewstaff">View Staff</a></li>
            <li><a href="#" id="staffadvances">Staff Advances</a></li>
            <li><a href="#" id="deductions">Deductions</a></li>
            <li><a href="#" id="staffpayments">Staff Payments</a></li>
            <li><a href="#" id="salaryledger">Salary Ledger</a></li>
            <li><a href="#" id="staffsubjects">Staff Subjects</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="notification">
            <i class="fa fa-bell"></i>
            <span></i>Notification Center</span></button>
          <ul class="sub-menu">
            <li><a href="#" id="sms">SMS Notifications</a></li>
            <li><a href="#" id="email">Email Notifications</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="assets">
            <i class="fa fa-address-card"></i>
            <span>Manage Assets</span>
          </button>
          <ul class="sub-menu">
            <li><a href="#" id="assetcate">Asset Categories</a></li>
            <li><a href="#" id="assetlocation">Asset Locations</a></li>
            <li><a href="#" id="viewasset">View Asset</a></li>
            <li><a href="#" id="assetspurchases">Assets Purchases</a></li>
            <li><a href="#" id="assetregister">Asset Register</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="vistors">
            <i class="fa fa-address-card"></i>
            <span>Vistors Book</span>
          </button>
          <ul class="sub-menu">
            <li><a href="#" id="viewvisitors">View Visitors</a></li>
            <li><a href="#" id="visitorsreport">Visitors Report</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="attendance">
            <i class="fa fa-address-card"></i>
            <span>Manage Attendance</span>
          </button>
          <ul class="sub-menu">
            <li><a href="#" id="studentatte">Student Attendance</a></li>
            <li><a href="#" id="staffatte">Staff Attendance</a></li>
            <li><a href="#" id="studentsummaries">Students Summaries</a></li>
            <li><a href="#" id="staffsummaries">Staff Summaries</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="events">
            <i class="fa fa-calendar-alt"></i>
            <span>Events</span>
          </button>
          <ul class="sub-menu">
            <li><a href="#" id="upcomingevents">Upcoming Events</a></li>
            <li><a href="#" id="eventreport">Events Report</a></li>
          </ul>
        </li>
        <li>
          <button class="main-item" data-menu="logout">
            <i class="fa fa-power-off"></i>
            <span>Log Out</span>
          </button>
        </li>
      </ul>
    </div>
  </div>
  <div class="content" id="content">
    <div id="dashboard-module" class="module">
      <h2>Welcome, Administrator</h2>
      <p class="subtitle">Here are some quick stats and reports for Montfort School:</p>
      <div class="cards">
        <div class="card"><i class="fa fa-users"></i><h3>Total Students</h3><p>{{ total_students }} Enrolled</p></div>
        <div class="card"><i class="fa fa-user-tie"></i><h3>Faculty Members</h3><p>{{ faculty_members }} Active</p></div>
        <div class="card"><i class="fa fa-bus"></i><h3>Transport Vehicles</h3><p>{{ transport_vehicles }} Operational</p></div>
        <div class="card"><i class="fa fa-book"></i><h3>Library Books</h3><p>{{ library_books }} Available</p></div>
        <div class="card"><i class="fa fa-computer"></i><h3>Computers</h3><p>{{ computers }} Available</p></div>
        <div class="card"><i class="fa fa-futbol"></i><h3>Sports</h3><p>Teams: {{ sports_teams }}</p></div>
        <div class="card"><i class="fa fa-building"></i><h3>Buildings</h3><p>{{ buildings }} BLocks</p></div>
        <div class="card"><i class="fa fa-hand-holding-heart"></i><h3>Charity</h3><p>{{ charity_people }} people</p></div>
      </div>
      
      <!-- Example Data Table from Context -->
      <div class="data-section">
          <h3>Current Enrollment by Class ({{ current_year }})</h3>
          <table class="data-table">
              <thead>
                  <tr>
                      <th>Class</th>
                      <th>Students Count</th>
                  </tr>
              </thead>
              <tbody>
                  {% for item in students_by_class %}
                  <tr>
                      <td>{{ item.current_class }}</td>
                      <td>{{ item.count }}</td>
                  </tr>
                  {% empty %}
                  <tr>
                      <td colspan="2">No student data found for the current year.</td>
                  </tr>
                  {% endfor %}
              </tbody>
          </table>
      </div>
      
    </div>
  </div> 
  <div class="overlay" id="overlay"></div>
    <div class="settings-panel" id="settings-panel">
      <div class="settings-header">
        <h3>Settings</h3>
        <button id="settings-close-btn" class="close-btn" aria-label="close settings">&times;</button>
      </div>
      <div class="settings-item theme-toggle">
        <strong>Theme</strong>
        <button id="theme-toggle-btn" class="btn btn-secondary">Switch to Dark</button>
      </div>
      <div class="settings-item">
        <strong>Language</strong>
        <span>English</span>
      </div>
        <div class="settings-item">
      <strong>Notifications</strong>
        <span>Enabled</span>
      </div>
    </div>
  </div>
  <!-- Corrected static file reference for Django -->
  <script src="{% static 'scripts/base.js' %}"></script>
</body>
</html>